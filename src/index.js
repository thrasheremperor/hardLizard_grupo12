const homePage = require("./homePage");
const enCartelera = require("./enCartelera");
const masVotados = require("./masVotadas");
const sucursales = require("./sucursales");
const contactos = require("./contacto");
const preguntasFrecuentes = require("./preguntasFrecuentes");


module.exports = {
    homePage:function(req,res){
        res.write(`​////////Bienvenidos a DH Movies el mejor sitio para encontrar las mejores
        películas, incluso mucho mejor que Netflix, Cuevana y PopCorn​.\n\n​////////TOTAL DE PELICULAS EN CARTELERA: ${homePage.nPelis()}\n\n`);
        homePage.pelisOrden().forEach((peli) => {
            res.write(`>> ${peli.toUpperCase()}\n`)
        })

        res.write(`\n\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\n\t\t\t\t\t​Recordá que podés visitar las secciones: En Cartelera, Mas Votadas, Contacto y Preguntas Frecuentes\n\n\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------`)
        res.end();
    },
   
    enCartelera:function(req,res){ 
        res.write(`////////EN CARTELERA\n\n////////TOTAL DE PELICULAS: ${enCartelera.nPeliculas()}`);
        enCartelera.peliculas().forEach(pelicula => {
            res.write(`\n\n${pelicula.title.toUpperCase()}\n\nDescripcion:\n${pelicula.overview}\n\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n`)
        })

        res.write(`\n\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\n\t\t\t\t\t​Recordá que podés visitar las secciones: Mas Votadas, Contacto y Preguntas Frecuentes\n\n\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------`)
        res.end();
    },
    
    masVotadas:function(req,res){
        res.write('MAS VOTADAS\n----------------\n\n');
        res.write(`Total de peliculas: ${masVotados.totalPelis()}\n\nRating promedio: ${masVotados.peliPromedio()}\n\n\n`);
        masVotados.peliTitulos().forEach(pelicula=>{
            res.write(`Titulo: ${pelicula.title}\nRating: ${pelicula.vote_average}\nReseña: ${pelicula.overview}\n\n\n\n`);
        });
        res.end();
    },
    
    sucursales:function(req,res){
        res.write(`////////NUESTRAS SALAS\n\n////////TOTAL DE SALAS: ${sucursales.nCines()}\n\n`);
        sucursales.cines().forEach(cine => {
            res.write(`Nombre: ${cine.name}\n\nDirección: ${cine.address}\n\nDescripcion: ${cine.description}\n\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n`)
        });
        res.write(`\n\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\n\t\t\t\t\t​Recordá que podés visitar las secciones: En Cartelera, Mas Votadas, Contacto y Preguntas Frecuentes\n\n\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------`)
        res.end();
    },
    
    contactos:function(req,res){
        res.write(`////////CONTACTENOS\n\n${contactos}`);
        res.write(`\n\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\n\t\t\t\t\t​Recordá que podés visitar las secciones: En Cartelera, Mas Votadas, Sucursales y Preguntas Frecuentes\n\n\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------`)
        res.end();
    },
    preguntasFrecuentes: function (req, res){
            res.write('>>>>>Preguntas Frecuentes<<<<< \n \n ');
			res.write(`Total de preguntas: ${preguntasFrecuentes.totalDePreguntas()}\n \n`);
			res.write('------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------')
			
			preguntasFrecuentes.preguntasYRespuestas().forEach(pyc => {
                res.write(`\n\n${pyc.faq_title}\n\n${pyc.faq_answer}\n\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n`)
            })

            res.write(`\n\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\n\t\t\t\t\t​Recordá que podés visitar las secciones: En Cartelera, Mas Votadas, Sucursales y Contacto\n\n\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------`)

        res.end();
    }
}